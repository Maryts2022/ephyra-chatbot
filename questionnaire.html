<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ερωτηματολόγιο του Chatbot "Εφυρα"</title>
  <style>
    :root{
      --bg:#0a1a2b; --bg2:#0e2239; --primary:#1e90ff; --primary-700:#0c67c2;
      --muted:#8aa4c0; --card:#102036; --ring:rgba(255,255,255,.12);
      --radius:18px; --radius-lg:28px; --shadow:0 10px 30px rgba(0,0,0,.35);
      --shadow-soft:0 6px 18px rgba(0,0,0,.25);
    }
    html,body{height:100%}
    body{
      margin:0; font-family: Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:#eef5ff; background: radial-gradient(1200px 600px at 70% 10%, #173656 0%, #0a1a2b 60%);
      line-height:1.5;
    }
    .page-wrapper{ width: 75%; margin: 0 auto; padding: 48px 16px; }
    h1{font-size: clamp(24px, 3vw, 38px); letter-spacing:.2px; color:#eef5ff; margin:0 0 18px}
    
    /* Styles for Questions */
    .question{
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--ring); border-radius:18px; padding:18px; margin-bottom:22px;
      box-shadow:0 6px 18px rgba(0,0,0,.25);
    }
    .q-title{ font-weight: bold; color: var(--primary); margin-bottom: 8px; text-transform: uppercase; font-size: 0.85em; letter-spacing: 1px; }
    .q-text{ font-size: 1.1em; color:#eef5ff; margin-bottom: 12px; }
    
    /* Options */
    .options{ display:flex; gap:20px; margin-top:14px; flex-wrap: wrap; }
    .options label{
      display:flex; align-items:center; gap:10px; padding:10px 14px;
      background:rgba(255,255,255,.05); border:1px solid var(--ring);
      border-radius:14px; cursor:pointer; transition: background 0.2s;
    }
    .options label:hover{ background:rgba(255,255,255,.1); }
    input[type="checkbox"], input[type="radio"]{ width: 18px; height: 18px; accent-color: var(--primary); }

    /* Button */
    .submit-wrap { margin-top: 30px; text-align: center; }
    button{
      background:var(--primary); color:#fff; border:none; border-radius:14px;
      padding:12px 24px; font-weight:600; cursor:pointer; font-size: 16px;
      transition: transform 0.1s;
    }
    button:hover{ transform: scale(1.02); background: var(--primary-700); }
    button:disabled{ background: #555; cursor: not-allowed; transform: none; }

    .hidden{ display:none !important; }
    .question.optional{ opacity: 0.8; border: 1px dashed rgba(255,255,255,0.3); }
    .question.optional h4{ margin: 0 0 10px 0; color: var(--muted); font-size: 1em; }

    .questionnaire-footer{ margin-top: 40px; padding: 16px 0; text-align: center; font-size: 13px; color: var(--muted); border-top: 1px solid var(--ring); }

    @media screen and (max-width: 600px) {
      .page-wrapper { width: 95% !important; padding: 15px 5px !important; }
      .question { padding: 15px !important; margin-bottom: 15px !important; }
      .options { flex-direction: column !important; gap: 8px !important; }
      .options label { width: 100% !important; background: rgba(255,255,255,0.08) !important; }
    }
  </style>
</head>

<body>
<div class="page-wrapper">
  <h1>Ερωτηματολόγιο για Chatbot "Εφυρα"</h1>

  <form id="questionnaire">

    <section class="question" data-question="usedBotTop">
      <p class="q-title">Ερώτηση</p>
      <p class="q-text">Χρησιμοποιήσατε το chatbot στο πλαίσιο της δοκιμής;</p>
      <div class="options">
        <label><input type="checkbox" name="usedBot" value="yes"> Ναι</label>
        <label><input type="checkbox" name="usedBot" value="no"> Όχι</label>
      </div>
    </section>

    <section class="question hidden" id="statusSection" data-question="status">
      <p class="q-title">Δημογραφικά</p>
      <p class="q-text">Ποια είναι η ιδιότητά σας;</p>
      <div class="options">
        <label><input type="radio" name="userStatus" value="citizen"> Δημότης</label>
        <label><input type="radio" name="userStatus" value="student"> Φοιτητής</label>
      </div>
    </section>

    <section class="question hidden" id="scenariosSection" data-question="scenariosUsed">
      <p class="q-title">Ερώτηση</p>
      <p class="q-text">Πόσα σενάρια υλοποιήσατε με το chatbot κατά τη διάρκεια της δοκιμής;</p>
      <div class="options">
        <label><input type="checkbox" name="timesUsed" value="1"> 1 σενάριο</label>
        <label><input type="checkbox" name="timesUsed" value="2-3"> 2–3 σενάρια</label>
        <label><input type="checkbox" name="timesUsed" value=">3"> Πάνω από 3 σενάρια</label>
      </div>
    </section>

    <div id="optional-demographics" class="hidden">
      <div class="question optional">
        <h4>Φύλο (προαιρετικό)</h4>
        <div class="options">
          <label><input type="radio" name="gender" value="male"> Άρρεν</label>
          <label><input type="radio" name="gender" value="female"> Θήλυ</label>
        </div>
      </div>
      <div class="question optional">
        <h4>Ηλικιακή Ομάδα (προαιρετικό)</h4>
        <div class="options">
          <label><input type="radio" name="age" value="18-30"> 18–30</label>
          <label><input type="radio" name="age" value="31-45"> 31–45</label>
          <label><input type="radio" name="age" value="46+"> 46 και άνω</label>
        </div>
      </div>
    </div>

    <div id="mainQuestions" class="hidden">
      <section class="question"><p class="q-title">Ερώτηση 1</p><p class="q-text">Η χρήση του chatbot Εφύρα με βοηθά να βρίσκω πιο γρήγορα τις πληροφορίες που χρειάζομαι.</p><div class="options"><label><input type="checkbox" name="q1" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q1" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q1" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q1" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q1" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 2</p><p class="q-text">Το chatbot Εφύρα βελτιώνει την αποτελεσματικότητά μου, όταν αναζητώ υπηρεσίες ή πληροφορίες.</p><div class="options"><label><input type="checkbox" name="q2" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q2" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q2" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q2" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q2" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 3</p><p class="q-text">Χρησιμοποιώντας το chatbot Εφύρα εξοικονομώ χρόνο σε σχέση με άλλους τρόπους εξυπηρέτησης.</p><div class="options"><label><input type="checkbox" name="q3" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q3" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q3" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q3" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q3" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 4</p><p class="q-text">Η χρήση του chatbot Εφύρα είναι εύκολη για μένα.</p><div class="options"><label><input type="checkbox" name="q4" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q4" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q4" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q4" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q4" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 5</p><p class="q-text">Η αλληλεπίδραση με το chatbot Εφύρα είναι κατανοητή και ξεκάθαρη.</p><div class="options"><label><input type="checkbox" name="q5" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q5" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q5" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q5" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q5" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 6</p><p class="q-text">Μπορώ να χρησιμοποιήσω το chatbot Εφύρα χωρίς να χρειάζομαι βοήθεια.</p><div class="options"><label><input type="checkbox" name="q6" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q6" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q6" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q6" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q6" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 7</p><p class="q-text">Πιστεύω ότι τα άτομα του περιβάλλοντός μου (π.χ. συνεργάτες, φίλοι) θα θεωρούσαν το Chatbot Εφύρα χρήσιμο.</p><div class="options"><label><input type="checkbox" name="q7" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q7" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q7" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q7" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q7" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 8</p><p class="q-text">Θεωρώ ότι ο Δήμος ενθαρρύνει και υποστηρίζει την χρήση του Chatbot Εφύρα ως τον πλέον ενδεδειγμένο τρόπο επικοινωνίας.</p><div class="options"><label><input type="checkbox" name="q8" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q8" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q8" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q8" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q8" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 9</p><p class="q-text">Πιστεύω ότι τα άτομα που είναι σημαντικά για εμένα (π.χ. προϊστάμενοι, εργοδότες) θα θεωρούσαν το Chatbot Εφύρα χρήσιμο.</p><div class="options"><label><input type="checkbox" name="q9" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q9" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q9" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q9" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q9" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 10</p><p class="q-text">Διαθέτω τα απαραίτητα μέσα (συσκευή, σύνδεση στο διαδίκτυο) για να χρησιμοποιώ το chatbot Εφύρα.</p><div class="options"><label><input type="checkbox" name="q10" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q10" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q10" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q10" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q10" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 11</p><p class="q-text">Πιστεύω ότι υπάρχει επαρκής υποστήριξη μέσω του κουμπιού "Βοήθεια", οποτεδήποτε την χρειαστώ.</p><div class="options"><label><input type="checkbox" name="q11" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q11" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q11" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q11" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q11" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 12</p><p class="q-text">Το chatbot Εφύρα βρίσκεται σε εμφανές σημείο στον ιστότοπο του Δήμου, ώστε να είναι άμεσα προσβάσιμο.</p><div class="options"><label><input type="checkbox" name="q12" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q12" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q12" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q12" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q12" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 13</p><p class="q-text">Σκοπεύω να χρησιμοποιώ το chatbot Εφύρα και στο μέλλον.</p><div class="options"><label><input type="checkbox" name="q13" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q13" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q13" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q13" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q13" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 14</p><p class="q-text">Όταν χρειάζομαι πληροφορίες ή υπηρεσίες, σκοπεύω να χρησιμοποιώ το chatbot Εφύρα.</p><div class="options"><label><input type="checkbox" name="q14" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q14" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q14" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q14" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q14" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 15</p><p class="q-text">Το chatbot Εφύρα θα αποτελεί την πρώτη μου επιλογή για την αναζήτηση πληροφοριών ή υπηρεσιών.</p><div class="options"><label><input type="checkbox" name="q15" value="1"> Διαφωνώ απόλυτα</label><label><input type="checkbox" name="q15" value="2"> Διαφωνώ</label><label><input type="checkbox" name="q15" value="3"> Ούτε Διαφωνώ/Ούτε Συμφωνώ</label><label><input type="checkbox" name="q15" value="4"> Συμφωνώ</label><label><input type="checkbox" name="q15" value="5"> Συμφωνώ απόλυτα</label></div></section>
      <section class="question"><p class="q-title">Ερώτηση 16</p><p class="q-text">Συμπερασματικά, σε ποιο βαθμό είστε συνολικά ικανοποιημένος/η από το chatbot Εφύρα;</p><div class="options"><label><input type="checkbox" name="q16" value="1"> Καθόλου</label><label><input type="checkbox" name="q16" value="2"> Σε μικρό βαθμό</label><label><input type="checkbox" name="q16" value="3"> Σε μέτριο βαθμό</label><label><input type="checkbox" name="q16" value="4"> Σε μεγάλο βαθμό</label><label><input type="checkbox" name="q16" value="5"> Σε πολύ μεγάλο βαθμό</label></div></section>

      <div class="submit-wrap">
        <button type="submit">Υποβολή</button>
      </div>
    </div>
  </form>

  <script>
    const API_URL = ""; 

    // --- 1. CHECKBOX BEHAVIOR (Single selection) ---
    document.querySelectorAll('section.question').forEach(section => {
      const checkboxes = section.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach(cb => {
        cb.addEventListener('change', () => {
          if (cb.checked) {
            checkboxes.forEach(other => { if (other !== cb) other.checked = false; });
          }
        });
      });
    });

    // --- 2. HELPERS ---
    function getCheckedValue(name){
      const checked = document.querySelector(`input[name="${name}"]:checked`);
      return checked ? checked.value : null;
    }
    function clearGroup(name){
      document.querySelectorAll(`input[name="${name}"]`).forEach(el => {
        el.checked = false;
      });
    }

    // --- 3. SHOW/HIDE SECTIONS ---
    const scenariosSection = document.getElementById('scenariosSection');
    const statusSection = document.getElementById('statusSection');
    const mainQuestions = document.getElementById('mainQuestions');
    const optionalBox = document.getElementById('optional-demographics');

    document.querySelectorAll('input[name="usedBot"]').forEach(cb => {
      cb.addEventListener('change', () => {
        const val = getCheckedValue('usedBot');

        if (val === 'yes') {
          // Εμφάνιση όλων
          if(statusSection) statusSection.classList.remove('hidden');
          if(scenariosSection) scenariosSection.classList.remove('hidden');
          if(mainQuestions) mainQuestions.classList.remove('hidden');
          if(optionalBox) optionalBox.classList.remove('hidden');
        } else {
          // Απόκρυψη όλων
          if(statusSection) statusSection.classList.add('hidden');
          if(scenariosSection) scenariosSection.classList.add('hidden');
          if(mainQuestions) mainQuestions.classList.add('hidden');
          if(optionalBox) optionalBox.classList.add('hidden');

          // Καθαρισμός επιλογών
          clearGroup('userStatus');
          clearGroup('timesUsed');
          clearGroup('gender');
          clearGroup('age');
          for (let i = 1; i <= 16; i++) clearGroup('q' + i);
        }
      });
    });

    // --- 4. SUBMIT FORM ---
    const form = document.getElementById('questionnaire');
    if (form) {
        form.addEventListener('submit', async function(e) {
            e.preventDefault();

            // Συλλογή Δεδομένων (Προστέθηκε το userStatus)
            const surveyData = {
               usedBot: getCheckedValue('usedBot') || "no",
               userStatus: getCheckedValue('userStatus') || "N/A", // ✨ ΝΕΟ ΠΕΔΙΟ
               scenarios: getCheckedValue('timesUsed') || "None",
               gender: getCheckedValue('gender') || "N/A",
               age: getCheckedValue('age') || "N/A"
            };

            for (let i = 1; i <= 16; i++) {
                let val = getCheckedValue(`q${i}`);
                surveyData[`q${i}`] = val ? parseInt(val) : 0;
            }

            const submitBtn = document.querySelector('button[type="submit"]');
            const originalBtnText = submitBtn ? submitBtn.innerText : "Υποβολή";
            
            if(submitBtn) {
                submitBtn.innerText = "⏳ Αποστολή...";
                submitBtn.disabled = true;
            }

            try {
                const response = await fetch(`${API_URL}/submit_survey`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(surveyData)
                });

                const result = await response.json();

                if (result.status === 'success') {
                    alert("✅ Ευχαριστούμε! Η γνώμη σας καταγράφηκε επιτυχώς.");
                    e.target.reset();
                    window.scrollTo(0, 0);
                    // Hide again
                    if(statusSection) statusSection.classList.add('hidden');
                    if(scenariosSection) scenariosSection.classList.add('hidden');
                    if(mainQuestions) mainQuestions.classList.add('hidden');
                    if(optionalBox) optionalBox.classList.add('hidden');
                } else {
                    throw new Error(result.message || "Server Error");
                }
            } catch (error) {
                console.error("Submission Error:", error);
                alert("⚠️ Σφάλμα σύνδεσης. Παρακαλώ δοκιμάστε ξανά.");
            } finally {
                if(submitBtn) {
                    submitBtn.innerText = originalBtnText;
                    submitBtn.disabled = false;
                }
            }
        });
    }
  </script>
</div>
<footer class="questionnaire-footer">Ερωτηματολόγιο για το Chatbot: «Εφύρα» – Demo για ακαδημαϊκή χρήση.</footer>
</body>
</html>