<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ“Š Feedback Dashboard - Î•Ï†ÏÏÎ± Chatbot</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Inter', sans-serif;
      background: linear-gradient(135deg, #0a1929 0%, #1a2332 100%);
      color: #e3e8ef;
      padding: 20px;
      min-height: 100vh;
    }
    
    .container {
      max-width: 1600px;
      margin: 0 auto;
    }
    
    header {
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 24px 32px;
      margin-bottom: 32px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    header h1 {
      font-size: 28px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .header-actions {
      display: flex;
      gap: 12px;
    }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #1e90ff 0%, #0c67c2 100%);
      color: white;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(30, 144, 255, 0.3);
    }
    
    .btn-secondary {
      background: rgba(255,255,255,0.08);
      color: #e3e8ef;
      border: 1px solid rgba(255,255,255,0.15);
    }
    
    .btn-secondary:hover {
      background: rgba(255,255,255,0.12);
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }
    
    .stat-card {
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 20px;
      transition: transform 0.2s;
    }
    
    .stat-card:hover {
      transform: translateY(-4px);
      border-color: rgba(255,255,255,0.2);
    }
    
    .stat-card h3 {
      font-size: 12px;
      font-weight: 600;
      color: #8aa4c0;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }
    
    .stat-value {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 6px;
    }
    
    .stat-change {
      font-size: 12px;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .stat-change.positive { color: #20c997; }
    .stat-change.negative { color: #ff6b6b; }
    .stat-change.neutral { color: #8aa4c0; }
    
    .chart-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }
    
    .chart-container {
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 24px;
    }
    
    .chart-container h2 {
      font-size: 18px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    canvas {
      max-height: 300px;
    }
    
    .insights-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }
    
    .insight-card {
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 24px;
    }
    
    .insight-card h3 {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .insight-list {
      list-style: none;
    }
    
    .insight-list li {
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .insight-list li:last-child {
      border-bottom: none;
    }
    
    .insight-list li strong {
      color: #1e90ff;
    }
    
    .feedback-table {
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 24px;
      overflow: hidden;
    }
    
    .feedback-table h2 {
      font-size: 20px;
      margin-bottom: 20px;
    }
    
    .table-wrapper {
      overflow-x: auto;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
    }
    
    thead {
      background: rgba(255,255,255,0.05);
    }
    
    th {
      padding: 12px 16px;
      text-align: left;
      font-weight: 600;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #8aa4c0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    td {
      padding: 12px 16px;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      font-size: 13px;
    }
    
    tbody tr:hover {
      background: rgba(255,255,255,0.03);
    }
    
    .sentiment-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .sentiment-positive {
      background: rgba(32, 201, 151, 0.15);
      color: #20c997;
      border: 1px solid rgba(32, 201, 151, 0.3);
    }
    
    .sentiment-negative {
      background: rgba(255, 107, 107, 0.15);
      color: #ff6b6b;
      border: 1px solid rgba(255, 107, 107, 0.3);
    }
    
    .response-preview {
      max-width: 350px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      color: #b5c5d9;
    }
    
    .loading {
      text-align: center;
      padding: 40px;
      color: #8aa4c0;
    }
    
    .filter-bar {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .filter-bar select {
      padding: 8px 14px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.15);
      background: rgba(255,255,255,0.05);
      color: #e3e8ef;
      font-size: 13px;
      cursor: pointer;
    }
    
    .filter-bar select:focus {
      outline: none;
      border-color: #1e90ff;
    }
    
    @media (max-width: 768px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
      }
      
      .chart-row {
        grid-template-columns: 1fr;
      }
      
      .insights-container {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>
        <span>ğŸ“Š</span>
        Dashboard Feedback - Î•Ï†ÏÏÎ±
      </h1>
      <div class="header-actions">
        <button class="btn btn-secondary" onclick="refreshData()">
          ğŸ”„ Î‘Î½Î±Î½Î­Ï‰ÏƒÎ·
        </button>
        <button class="btn btn-primary" onclick="exportData()">
          ğŸ“¥ Export CSV
        </button>
        <button class="btn btn-secondary" onclick="clearAllFeedback()" style="background: rgba(255, 107, 107, 0.2); color: #ff6b6b; border-color: #ff6b6b;">
          ğŸ—‘ï¸ ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚
        </button>
      </div>
    </header>
    
    <!-- KPIs Row -->
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Î£Ï…Î½Î¿Î»Î¹ÎºÎ¬ Feedback</h3>
        <div class="stat-value" id="totalFeedback">-</div>
        <div class="stat-change neutral">Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯ÎµÏ‚ 30 Î·Î¼Î­ÏÎµÏ‚</div>
      </div>
      
      <div class="stat-card">
        <h3>Satisfaction Rate</h3>
        <div class="stat-value" style="color: #1e90ff;" id="satisfactionRate">-</div>
        <div class="stat-change" id="sentimentTrend">-</div>
      </div>
      
      <div class="stat-card">
        <h3>Î˜ÎµÏ„Î¹ÎºÎ¬ ğŸ‘</h3>
        <div class="stat-value" style="color: #20c997;" id="positiveFeedback">-</div>
        <div class="stat-change positive" id="positivePercent">-</div>
      </div>
      
      <div class="stat-card">
        <h3>Î‘ÏÎ½Î·Ï„Î¹ÎºÎ¬ ğŸ‘</h3>
        <div class="stat-value" style="color: #ff6b6b;" id="negativeFeedback">-</div>
        <div class="stat-change negative" id="negativePercent">-</div>
      </div>
      
      <div class="stat-card">
        <h3>ÎœÎ­ÏƒÎ¿Ï‚ Î§ÏÏŒÎ½Î¿Ï‚ Î‘Ï€Î¬Î½Ï„Î·ÏƒÎ·Ï‚</h3>
        <div class="stat-value" id="avgResponseTime">-</div>
        <div class="stat-change neutral" id="responseTimeRange">-</div>
      </div>
      
      <div class="stat-card">
        <h3>ÎœÎ¿Î½Î±Î´Î¹ÎºÎ¿Î¯ Î§ÏÎ®ÏƒÏ„ÎµÏ‚</h3>
        <div class="stat-value" id="uniqueUsers">-</div>
        <div class="stat-change neutral" id="weeklyActive">-</div>
      </div>
    </div>
    
    <!-- Charts Row -->
    <div class="chart-row">
      <div class="chart-container">
        <h2>ğŸ“ˆ Î¤Î¬ÏƒÎ· Feedback (Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯ÎµÏ‚ 30 Î—Î¼Î­ÏÎµÏ‚)</h2>
        <canvas id="feedbackChart"></canvas>
      </div>
      
      <div class="chart-container">
        <h2>ğŸ—£ï¸ Î”Î¹Î±Î½Î¿Î¼Î® Î“Î»ÏÏƒÏƒÎ±Ï‚</h2>
        <canvas id="languageChart"></canvas>
      </div>
    </div>
    
    <!-- Insights Row -->
    <div class="insights-container">
      <div class="insight-card">
        <h3>ğŸ¯ ÎšÏÏÎ¹Î± Î ÏÎ¿Î²Î»Î®Î¼Î±Ï„Î±</h3>
        <ul class="insight-list" id="topIssuesList">
          <li><span class="loading">Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...</span></li>
        </ul>
      </div>
      
      <div class="insight-card">
        <h3>â“ Top Î•ÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚</h3>
        <ul class="insight-list" id="topQuestionsList">
          <li><span class="loading">Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...</span></li>
        </ul>
      </div>
      
      <div class="insight-card">
        <h3>ğŸ“Š Key Metrics</h3>
        <ul class="insight-list">
          <li>â±ï¸ Min Ï‡ÏÏŒÎ½Î¿Ï‚: <strong id="minTime">-</strong></li>
          <li>â±ï¸ Max Ï‡ÏÏŒÎ½Î¿Ï‚: <strong id="maxTime">-</strong></li>
          <li>ğŸ‘¥ Active (7Î·Î¼.): <strong id="weeklyMetric">-</strong></li>
        </ul>
      </div>
    </div>
    
    <!-- Feedback Table -->
    <div class="feedback-table">
      <h2>ğŸ“‹ Î ÏÏŒÏƒÏ†Î±Ï„Î± Feedback</h2>
      <div class="filter-bar">
        <select id="filterSentiment" onchange="filterTable()">
          <option value="all">ÎŒÎ»Î± Ï„Î± feedback</option>
          <option value="positive">ÎœÏŒÎ½Î¿ Î¸ÎµÏ„Î¹ÎºÎ¬ ğŸ‘</option>
          <option value="negative">ÎœÏŒÎ½Î¿ Î±ÏÎ½Î·Ï„Î¹ÎºÎ¬ ğŸ‘</option>
        </select>
        <select id="filterDays" onchange="refreshData()">
          <option value="7">Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯ÎµÏ‚ 7 Î·Î¼Î­ÏÎµÏ‚</option>
          <option value="30" selected>Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯ÎµÏ‚ 30 Î·Î¼Î­ÏÎµÏ‚</option>
          <option value="90">Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯ÎµÏ‚ 90 Î·Î¼Î­ÏÎµÏ‚</option>
        </select>
      </div>
      
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Sentiment</th>
              <th>Î•ÏÏÏ„Î·ÏƒÎ·</th>
              <th>Î‘Ï€Î¬Î½Ï„Î·ÏƒÎ· Bot</th>
              <th>Î§ÏÏŒÎ½Î¿Ï‚ (s)</th>
              <th>Î“Î»ÏÏƒÏƒÎ±</th>
              <th>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</th>
            </tr>
          </thead>
          <tbody id="feedbackTableBody">
            <tr>
              <td colspan="7" class="loading">Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
  <script>
    const API_URL = window.location.origin;
    let allFeedbackData = [];
    let feedbackChart = null;
    let languageChart = null;
    
    async function loadData() {
      try {
        const days = document.getElementById('filterDays').value;
        const response = await fetch(`${API_URL}/feedback/stats?days=${days}&detailed=true`);
        
        if (!response.ok) throw new Error(`HTTP ${response.status}`);
        
        const data = await response.json();
        
        // Update KPIs
        document.getElementById('totalFeedback').textContent = (data.total_feedback || 0).toLocaleString('el-GR');
        document.getElementById('satisfactionRate').textContent = (data.satisfaction_rate || 0) + '%';
        document.getElementById('positiveFeedback').textContent = (data.positive || 0).toLocaleString('el-GR');
        document.getElementById('negativeFeedback').textContent = (data.negative || 0).toLocaleString('el-GR');
        
        // Percentages
        const posPercent = data.total_feedback > 0 ? ((data.positive / data.total_feedback) * 100).toFixed(1) : 0;
        const negPercent = data.total_feedback > 0 ? ((data.negative / data.total_feedback) * 100).toFixed(1) : 0;
        document.getElementById('positivePercent').innerHTML = `â†— ${posPercent}%`;
        document.getElementById('negativePercent').innerHTML = `â†˜ ${negPercent}%`;
        
        // Sentiment Trend
        const trendClass = data.sentiment_trend > 0 ? 'positive' : data.sentiment_trend < 0 ? 'negative' : 'neutral';
        document.getElementById('sentimentTrend').className = `stat-change ${trendClass}`;
        document.getElementById('sentimentTrend').innerHTML = data.sentiment_trend_percent || '0%';
        
        // Response Times
        document.getElementById('avgResponseTime').textContent = (data.avg_response_time || 0).toFixed(2) + 's';
        document.getElementById('responseTimeRange').textContent = `Min: ${(data.min_response_time || 0).toFixed(2)}s / Max: ${(data.max_response_time || 0).toFixed(2)}s`;
        document.getElementById('minTime').textContent = (data.min_response_time || 0).toFixed(2) + 's';
        document.getElementById('maxTime').textContent = (data.max_response_time || 0).toFixed(2) + 's';
        
        // Users
        document.getElementById('uniqueUsers').textContent = (data.unique_users || 0).toLocaleString('el-GR');
        document.getElementById('weeklyActive').textContent = `${data.weekly_active_users || 0} Active (7Î·Î¼.)`;
        document.getElementById('weeklyMetric').textContent = `${data.weekly_active_users || 0} Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚`;
        
        // Update charts
        updateChart(data.daily_data || []);
        updateLanguageChart(data.language_distribution || {});
        
        // Update insights
        updateTopIssues(data.top_issues || []);
        updateTopQuestions(data.top_questions || []);
        
        // Update table
        allFeedbackData = data.recent_feedback || [];
        updateTable(allFeedbackData);
        
      } catch (error) {
        console.error('Error:', error);
        alert('Î£Ï†Î¬Î»Î¼Î±: ' + error.message);
      }
    }
    
    function updateChart(dailyData) {
      const dateMap = {};
      dailyData.forEach(item => {
        if (!dateMap[item.date]) dateMap[item.date] = { positive: 0, negative: 0 };
        if (item.sentiment === 'positive') {
          dateMap[item.date].positive = item.count;
        } else {
          dateMap[item.date].negative = item.count;
        }
      });
      
      const dates = Object.keys(dateMap).sort();
      const positiveData = dates.map(d => dateMap[d].positive);
      const negativeData = dates.map(d => dateMap[d].negative);
      
      if (feedbackChart) feedbackChart.destroy();
      
      const ctx = document.getElementById('feedbackChart').getContext('2d');
      feedbackChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: dates.map(d => new Date(d).toLocaleDateString('el-GR', { month: 'short', day: 'numeric' })),
          datasets: [
            {
              label: 'Î˜ÎµÏ„Î¹ÎºÎ¬ ğŸ‘',
              data: positiveData,
              borderColor: '#20c997',
              backgroundColor: 'rgba(32, 201, 151, 0.1)',
              tension: 0.4,
              fill: true
            },
            {
              label: 'Î‘ÏÎ½Î·Ï„Î¹ÎºÎ¬ ğŸ‘',
              data: negativeData,
              borderColor: '#ff6b6b',
              backgroundColor: 'rgba(255, 107, 107, 0.1)',
              tension: 0.4,
              fill: true
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: { legend: { labels: { color: '#e3e8ef' } } },
          scales: {
            y: { ticks: { color: '#8aa4c0' }, grid: { color: 'rgba(255,255,255,0.05)' } },
            x: { ticks: { color: '#8aa4c0' }, grid: { color: 'rgba(255,255,255,0.05)' } }
          }
        }
      });
    }
    
    function updateLanguageChart(langDist) {
      const labels = Object.keys(langDist);
      const data = Object.values(langDist);
      
      if (languageChart) languageChart.destroy();
      
      const ctx = document.getElementById('languageChart').getContext('2d');
      languageChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: labels.map(l => l === 'el' ? 'Î•Î»Î»Î·Î½Î¹ÎºÎ¬' : l === 'en' ? 'English' : l),
          datasets: [{
            data: data,
            backgroundColor: ['#1e90ff', '#20c997', '#ff6b6b', '#ffc107'],
            borderColor: 'rgba(255,255,255,0.1)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: '#e3e8ef' } } }
        }
      });
    }
    
    function updateTopIssues(issues) {
      const list = document.getElementById('topIssuesList');
      if (!issues || issues.length === 0) {
        list.innerHTML = '<li style="color: #8aa4c0;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±ÏÎ½Î·Ï„Î¹ÎºÎ­Ï‚ Î±Î½Î±Ï†Î¿ÏÎ­Ï‚</li>';
        return;
      }
      list.innerHTML = issues.map((issue, i) => 
        `<li>${i+1}. <strong>${issue.category}</strong> (${issue.count}x)</li>`
      ).join('');
    }
    
    function updateTopQuestions(questions) {
      const list = document.getElementById('topQuestionsList');
      if (!questions || questions.length === 0) {
        list.innerHTML = '<li style="color: #8aa4c0;">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚</li>';
        return;
      }
      list.innerHTML = questions.map((q, i) => 
        `<li>${i+1}. <strong>${q.question.substring(0, 40)}...</strong> (${q.count}x)</li>`
      ).join('');
    }
    
    function updateTable(feedbackData) {
      const tbody = document.getElementById('feedbackTableBody');
      if (!feedbackData || feedbackData.length === 0) {
        tbody.innerHTML = '<tr><td colspan="7" style="text-align:center; padding: 20px;">Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Î±</td></tr>';
        return;
      }
      
      tbody.innerHTML = feedbackData.map(item => `
        <tr>
          <td>#${item.id}</td>
          <td><span class="sentiment-badge sentiment-${item.is_positive ? 'positive' : 'negative'}">
            ${item.is_positive ? 'ğŸ‘' : 'ğŸ‘'}
          </span></td>
          <td><div class="response-preview">${escapeHtml(item.user_question || '-')}</div></td>
          <td><div class="response-preview">${escapeHtml(item.bot_response || '-')}</div></td>
          <td>${(item.response_time || 0).toFixed(2)}</td>
          <td>${item.language === 'el' ? 'ğŸ‡¬ğŸ‡· EL' : 'ğŸ‡¬ğŸ‡§ EN'}</td>
          <td>${new Date(item.timestamp).toLocaleString('el-GR')}</td>
        </tr>
      `).join('');
    }
    
    function filterTable() {
      const sentiment = document.getElementById('filterSentiment').value;
      let filtered = allFeedbackData;
      if (sentiment === 'positive') filtered = allFeedbackData.filter(i => i.is_positive);
      else if (sentiment === 'negative') filtered = allFeedbackData.filter(i => !i.is_positive);
      updateTable(filtered);
    }
    
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }
    
    async function refreshData() {
      await loadData();
    }
    
    async function exportData() {
      try {
        const days = document.getElementById('filterDays').value;
        window.location.href = `${API_URL}/feedback/export?days=${days}&format=csv`;
      } catch (error) {
        alert('Î£Ï†Î¬Î»Î¼Î±: ' + error.message);
      }
    }
    
    async function clearAllFeedback() {
      if (!confirm('âš ï¸ Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Ï‚; Î‘Ï…Ï„ÏŒ Î¸Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÎ¹ ÎŸÎ›Î‘ Ï„Î± feedback. Î”ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î±Î½Î±Î¹ÏÎµÎ¸ÎµÎ¯!')) {
        return;
      }
      
      try {
        const response = await fetch(`${API_URL}/feedback/clear`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' }
        });
        
        const data = await response.json();
        
        if (data.status === 'success') {
          alert('âœ… ' + (data.message || 'ÎŒÎ»Î± Ï„Î± feedback Î´Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎ±Î½!'));
          refreshData();
        } else {
          alert('âŒ Î£Ï†Î¬Î»Î¼Î±: ' + (data.message || 'Î‘Î³Î½ÏÏƒÏ„Î¿ ÏƒÏ†Î¬Î»Î¼Î±'));
        }
      } catch (error) {
        alert('âŒ Î£Ï†Î¬Î»Î¼Î±: ' + error.message);
      }
    }
    
    // Auto-refresh ÎºÎ¬Î¸Îµ 30 Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î±
    setInterval(refreshData, 30000);
    
    // Initial load
    loadData();
  </script>
</body>
</html>